
%% bare_conf.tex 
%% V1.2
%% 2002/11/18
%% by Michael Shell
%% mshell@ece.gatech.edu
%% 
%% NOTE: This text file uses MS Windows line feed conventions. When (human)
%% reading this file on other platforms, you may have to use a text
%% editor that can handle lines terminated by the MS Windows line feed
%% characters (0x0D 0x0A).
%% 
%% This is a skeleton file demonstrating the use of IEEEtran.cls 
%% (requires IEEEtran.cls version 1.6b or later) with an IEEE conference paper.
%% 
%% Support sites:
%% http://www.ieee.org
%% and/or
%% http://www.ctan.org/tex-archive/macros/latex/contrib/supported/IEEEtran/ 
%%
%% This code is offered as-is - no warranty - user assumes all risk.
%% Free to use, distribute and modify.

% *** Authors should verify (and, if needed, correct) their LaTeX system  ***
% *** with the testflow diagnostic prior to trusting their LaTeX platform ***
% *** with production work. IEEE's font choices can trigger bugs that do  ***
% *** not appear when using other class files.                            ***
% Testflow can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/supported/IEEEtran/testflow


% Note that the a4paper option is mainly intended so that authors in
% countries using A4 can easily print to A4 and see how their papers will
% look in print. Authors are encouraged to use U.S. letter paper when 
% submitting to IEEE. Use the testflow package mentioned above to verify
% correct handling of both paper sizes by the author's LaTeX system.
%
% Also note that the "draftcls" or "draftclsnofoot", not "draft", option
% should be used if it is desired that the figures are to be displayed in
% draft mode.
%
% This paper can be formatted using the peerreviewca
% (instead of conference) mode.
\documentclass[conference]{IEEEtran}
% If the IEEEtran.cls has not been installed into the LaTeX system files, 
% manually specify the path to it:
% \documentclass[conference]{../sty/IEEEtran} 


\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{cite}
%\usepackage{amsthm}
% ----------------------------------------------------------------
\vfuzz2pt % Don't report over-full v-boxes if over-edge is small
\hfuzz2pt % Don't report over-full h-boxes if over-edge is small
% THEOREMS -------------------------------------------------------
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
%\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
%\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\numberwithin{equation}{section}
%%%%%%%%%%%%%%%%%%%%%% MATH -----------------------------------------------------------
\newcommand{\norm}[1]{\left\Vert#1\right\Vert}
\newcommand{\abs}[1]{\left\vert#1\right\vert}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\Real}{\mathbb R}
\newcommand{\eps}{\varepsilon}
\newcommand{\To}{\longrightarrow}
\newcommand{\BX}{\mathbf{B}(X)}%
\newcommand{\A}{\mathcal{A}}
\newcommand{\q}{\mathbf{q}}
\newcommand{\x}{\mathbf{x}}
% ----------------------------------------------------------------
% some very useful LaTeX packages include:

%\usepackage{cite}      % Written by Donald Arseneau
                        % V1.6 and later of IEEEtran pre-defines the format
                        % of the cite.sty package \cite{} output to follow
                        % that of IEEE. Loading the cite package will
                        % result in citation numbers being automatically
                        % sorted and properly "ranged". i.e.,
                        % [1], [9], [2], [7], [5], [6]
                        % (without using cite.sty)
                        % will become:
                        % [1], [2], [5]--[7], [9] (using cite.sty)
                        % cite.sty's \cite will automatically add leading
                        % space, if needed. Use cite.sty's noadjust option
                        % (cite.sty V3.8 and later) if you want to turn this
                        % off. cite.sty is already installed on most LaTeX
                        % systems. The latest version can be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/contrib/supported/cite/

%\usepackage{graphicx}  % Written by David Carlisle and Sebastian Rahtz
                        % Required if you want graphics, photos, etc.
                        % graphicx.sty is already installed on most LaTeX
                        % systems. The latest version and documentation can
                        % be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/required/graphics/
                        % Another good source of documentation is "Using
                        % Imported Graphics in LaTeX2e" by Keith Reckdahl
                        % which can be found as esplatex.ps and epslatex.pdf
                        % at: http://www.ctan.org/tex-archive/info/
% NOTE: for dual use with latex and pdflatex, instead load graphicx like:
%\ifx\pdfoutput\undefined
%\usepackage{graphicx}
%\else
%\usepackage[pdftex]{graphicx}
%\fi

% However, be warned that pdflatex will require graphics to be in PDF
% (not EPS) format and will preclude the use of PostScript based LaTeX
% packages such as psfrag.sty and pstricks.sty. IEEE conferences typically
% allow PDF graphics (and hence pdfLaTeX). However, IEEE journals do not
% (yet) allow image formats other than EPS or TIFF. Therefore, authors of
% journal papers should use traditional LaTeX with EPS graphics.
%
% The path(s) to the graphics files can also be declared: e.g.,
% \graphicspath{{../eps/}{../ps/}}
% if the graphics files are not located in the same directory as the
% .tex file. This can be done in each branch of the conditional above
% (after graphicx is loaded) to handle the EPS and PDF cases separately.
% In this way, full path information will not have to be specified in
% each \includegraphics command.
%
% Note that, when switching from latex to pdflatex and vice-versa, the new
% compiler will have to be run twice to clear some warnings.


%\usepackage{psfrag}    % Written by Craig Barratt, Michael C. Grant,
                        % and David Carlisle
                        % This package allows you to substitute LaTeX
                        % commands for text in imported EPS graphic files.
                        % In this way, LaTeX symbols can be placed into
                        % graphics that have been generated by other
                        % applications. You must use latex->dvips->ps2pdf
                        % workflow (not direct pdf output from pdflatex) if
                        % you wish to use this capability because it works
                        % via some PostScript tricks. Alternatively, the
                        % graphics could be processed as separate files via
                        % psfrag and dvips, then converted to PDF for
                        % inclusion in the main file which uses pdflatex.
                        % Docs are in "The PSfrag System" by Michael C. Grant
                        % and David Carlisle. There is also some information 
                        % about using psfrag in "Using Imported Graphics in
                        % LaTeX2e" by Keith Reckdahl which documents the
                        % graphicx package (see above). The psfrag package
                        % and documentation can be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/contrib/supported/psfrag/

%\usepackage{subfigure} % Written by Steven Douglas Cochran
                        % This package makes it easy to put subfigures
                        % in your figures. i.e., "figure 1a and 1b"
                        % Docs are in "Using Imported Graphics in LaTeX2e"
                        % by Keith Reckdahl which also documents the graphicx
                        % package (see above). subfigure.sty is already
                        % installed on most LaTeX systems. The latest version
                        % and documentation can be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/contrib/supported/subfigure/

%\usepackage{url}       % Written by Donald Arseneau
                        % Provides better support for handling and breaking
                        % URLs. url.sty is already installed on most LaTeX
                        % systems. The latest version can be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/contrib/other/misc/
                        % Read the url.sty source comments for usage information.

%\usepackage{stfloats}  % Written by Sigitas Tolusis
                        % Gives LaTeX2e the ability to do double column
                        % floats at the bottom of the page as well as the top.
                        % (e.g., "\begin{figure*}[!b]" is not normally
                        % possible in LaTeX2e). This is an invasive package
                        % which rewrites many portions of the LaTeX2e output
                        % routines. It may not work with other packages that
                        % modify the LaTeX2e output routine and/or with other
                        % versions of LaTeX. The latest version and
                        % documentation can be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/contrib/supported/sttools/
                        % Documentation is contained in the stfloats.sty
                        % comments as well as in the presfull.pdf file.
                        % Do not use the stfloats baselinefloat ability as
                        % IEEE does not allow \baselineskip to stretch.
                        % Authors submitting work to the IEEE should note
                        % that IEEE rarely uses double column equations and
                        % that authors should try to avoid such use.
                        % Do not be tempted to use the cuted.sty or
                        % midfloat.sty package (by the same author) as IEEE
                        % does not format its papers in such ways.

%\usepackage{amsmath}   % From the American Mathematical Society
                        % A popular package that provides many helpful commands
                        % for dealing with mathematics. Note that the AMSmath
                        % package sets \interdisplaylinepenalty to 10000 thus
                        % preventing page breaks from occurring within multiline
                        % equations. Use:
%\interdisplaylinepenalty=2500
                        % after loading amsmath to restore such page breaks
                        % as IEEEtran.cls normally does. amsmath.sty is already
                        % installed on most LaTeX systems. The latest version
                        % and documentation can be obtained at:
                        % http://www.ctan.org/tex-archive/macros/latex/required/amslatex/math/



% Other popular packages for formatting tables and equations include:

%\usepackage{array}
% Frank Mittelbach's and David Carlisle's array.sty which improves the
% LaTeX2e array and tabular environments to provide better appearances and
% additional user controls. array.sty is already installed on most systems.
% The latest version and documentation can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/required/tools/

% Mark Wooding's extremely powerful MDW tools, especially mdwmath.sty and
% mdwtab.sty which are used to format equations and tables, respectively.
% The MDWtools set is already installed on most LaTeX systems. The lastest
% version and documentation is available at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/supported/mdwtools/


% V1.6 of IEEEtran contains the IEEEeqnarray family of commands that can
% be used to generate multiline equations as well as matrices, tables, etc.


% Also of notable interest:

% Scott Pakin's eqparbox package for creating (automatically sized) equal
% width boxes. Available:
% http://www.ctan.org/tex-archive/macros/latex/contrib/supported/eqparbox/



% Notes on hyperref:
% IEEEtran.cls attempts to be compliant with the hyperref package, written
% by Heiko Oberdiek and Sebastian Rahtz, which provides hyperlinks within
% a document as well as an index for PDF files (produced via pdflatex).
% However, it is a tad difficult to properly interface LaTeX classes and
% packages with this (necessarily) complex and invasive package. It is
% recommended that hyperref not be used for work that is to be submitted
% to the IEEE. Users who wish to use hyperref *must* ensure that their
% hyperref version is 6.72u or later *and* IEEEtran.cls is version 1.6b 
% or later. The latest version of hyperref can be obtained at:
%
% http://www.ctan.org/tex-archive/macros/latex/contrib/supported/hyperref/
%
% Also, be aware that cite.sty (as of version 3.9, 11/2001) and hyperref.sty
% (as of version 6.72t, 2002/07/25) do not work optimally together.
% To mediate the differences between these two packages, IEEEtran.cls, as
% of v1.6b, predefines a command that fools hyperref into thinking that
% the natbib package is being used - causing it not to modify the existing
% citation commands, and allowing cite.sty to operate as normal. However,
% as a result, citation numbers will not be hyperlinked. Another side effect
% of this approach is that the natbib.sty package will not properly load
% under IEEEtran.cls. However, current versions of natbib are not capable
% of compressing and sorting citation numbers in IEEE's style - so this
% should not be an issue. If, for some strange reason, the user wants to
% load natbib.sty under IEEEtran.cls, the following code must be placed
% before natbib.sty can be loaded:
%
% \makeatletter
% \let\NAT@parse\undefined
% \makeatother
%
% Hyperref should be loaded differently depending on whether pdflatex
% or traditional latex is being used:
%
%\ifx\pdfoutput\undefined
%\usepackage[hypertex]{hyperref}
%\else
%\usepackage[pdftex,hypertexnames=false]{hyperref}
%\fi
%
% Pdflatex produces superior hyperref results and is the recommended
% compiler for such use.



% *** Do not adjust lengths that control margins, column widths, etc. ***
% *** Do not use packages that alter fonts (such as pslatex).         ***
% There should be no need to do such things with IEEEtran.cls V1.6 and later.


% correct bad hyphenation here
\hyphenation{IEEEtran}


\begin{document}

% paper title
\title{Accurate Control of a Human-like\\ Tendon-driven Neck}


% author names and affiliations
% use a multiple column layout for up to three different
% affiliations

%\author{\authorblockN{Francesco Nori}
%\authorblockN{Lorenzo Jamone}
%\authorblockA{Department of Robotics, Behavior and Cognitive Sciences\\
%Italian Institute of Technology\\
%Genoa, Italy\\
%Email: francesco.nori@iit.it Email: lorenzo.jamone@iit.it}
%\and
%\authorblockN{Giorgio Metta}
%\authorblockN{Giulio Sandini}
%\authorblockA{Department of Robotics, Behavior and Cognitive Sciences\\
%Italian Institute of Technology\\
%Genoa, Italy\\
%Email: giorgio.metta@iit.it Email: giulio.sandini@iit.it}}

\author{\authorblockN{Francesco Nori, Lorenzo Jamone,}
\authorblockN{Giorgio Metta, Giulio Sandini}
\authorblockA{Department of Robotics, Behavior and Cognitive Sciences\\
Italian Institute of Technology\\
Genoa, Italy\\
Emails: francesco.nori@iit.it, lorenzo.jamone@iit.it,\\
giorgio.metta@iit.it, giulio.sandini@iit.it}}

%\author{\authorblockN{James Kirk, Ryan Philips,\\ Ted McGuire and Montgomery Scott}
%\authorblockA{IIT, Italian Institute of Technology\\
%Genova, Italia \\
%Email: [pino.gino, gino.rino, rino.tino, lino.tino]@iit.it}
%}


% avoiding spaces at the end of the author lines is not a problem with
% conference papers because we don't use \thanks or \IEEEmembership


% for over three affiliations, or if they all won't fit within the width
% of the page, use this alternative format:
% 
%\author{\authorblockN{Michael Shell\authorrefmark{1},
%Homer Simpson\authorrefmark{2},
%James Kirk\authorrefmark{3}, 
%Montgomery Scott\authorrefmark{3} and
%Eldon Tyrell\authorrefmark{4}}
%\authorblockA{\authorrefmark{1}School of Electrical and Computer Engineering\\
%Georgia Institute of Technology,
%Atlanta, Georgia 30332--0250\\ Email: mshell@ece.gatech.edu}
%\authorblockA{\authorrefmark{2}Twentieth Century Fox, Springfield, USA\\
%Email: homer@thesimpsons.com}
%\authorblockA{\authorrefmark{3}Starfleet Academy, San Francisco, California 96678-2391\\
%Telephone: (800) 555--1212, Fax: (888) 555--1212}
%\authorblockA{\authorrefmark{4}Tyrell Inc., 123 Replicant Street, Los Angeles, California 90210--4321}}



% use only for invited papers
%\specialpapernotice{(Invited Paper)}

% make the title area
\maketitle

\begin{abstract}
In this paper we describe the actuation and control of a humanoid robot neck. Particular attention will be posed on the description of the neck actuation structure, whose design has a noticeable human similarity. Specifically, the final mechanical design was inspired by the human skeleton, with the neck bone movements constrained and actuated by the surrounding muscles. In our robotic platform, the neck bone was realized with a steel spring surrounded by steel tendons in place of muscles. The specific and innovative mechanical design have imposed the design of a non-standard actuation structure which, in turn, have lead to an innovative control scheme. The main focus of the paper will be on describing different control schemes and discussing their performances in details.
\end{abstract}

% no keywords

% For peer review papers, you can put extra information on the cover
% page as needed:
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
%
% for peerreview papers, inserts a page break and creates the second title.
% Will be ignored for other modes.
\IEEEpeerreviewmaketitle



\section{Introduction}

Humans exhibit a wide and complex repertoire of movements far beyond the motor capabilities of modern robots. Clearly, the realization of an artificial system capable of more realistic movements passes trough a series of technological improvements, especially if we are interested in replicating both kinematic and dynamical aspects. Recently, there has been a growing interest in developing robots whose geometric and actuation structures resemble those of a human beings. Probably, the most extreme steps in this direction are represented by {\em Cronos} \cite{Cronos}, the robot recently developed by O. Holland et al., and {\em Kotaro} \cite{Kotaro}, developed at Tokyo university. Along the same line, Albers et al. \cite{Albers03humanoid} have focused their attention on an innovative robotic neck, named {\em Vertebral Neck}, highly inspired by the human neck structure.

Noticeably, the control of these innovative architectures is a complex task, especially if compared with classical designs \cite{Kim04head,Billard05robota} which have been usually based on rotational joints in serial configuration. Remarkably, the control complexity clearly increases with the architecture complexity and suggests new interesting control problems. Within this context Terzopoulos and Lee \cite{Terzopoulos06} have proposed an interesting solution to control an extremely detailed and precise biomechanical model of the human head-neck system. Though limited to a simulation environment, their work is to our knowledge one of the few considering the problem of controlling an highly realistic (muscle-actuated) model of the neck.

Realizing such complex architecture on a real humanoid robot is clearly an ambitious goal. Nevertheless, we believe in the importance of developing and implementing innovative and human-like actuation schemes within the field of humanoid robotics. Therefore, in this paper we aim at exploring the potentialities of a specific actuation structure: a spine joint actuated by the surrounding muscles. The proposed mechanical structure is not only simulated but also realized and controlled on a real humanoid robot neck. Clearly, the final solution makes major simplifications to reduce the whole system complexity but the mechanical structure preserves some interesting features which will be discussed in details. 

The paper is organized as follows. In sections \ref{Sec:Platform} and \ref{Sec:NeckStructure} we give a description of the hardware platform, focusing in particular on the neck structure. In section \ref{Sec:NeckControl} we explain in details the different control schemes we have tested. Finally, in section \ref{Sec:FutureWork} we introduce future works concerning the development of a non-model-based controller for the neck and in section \ref{Sec:Conclusions} we present our conclusions.


\section{Humanoid platform} \label{Sec:Platform}

The robotic platform on which the discussed controller has been implemented is the humanoid robot James \cite{James06}. James is a 22-DOF torso with moving eyes and neck, an arm and a highly anthropomorphic hand (see Figure \ref{Fig:PicureJames}). In the following subsections we briefly cover the robot design, its actuation, and sensorization. More details about the neck structure are given in section \ref{Sec:NeckStructure}.

\begin{figure}[h!tbp]
\centering
\includegraphics[width=80mm]{image/James1.png}
\caption{The humanoid robot James.}
\label{Fig:PicureJames}
\end{figure}

\subsection{Robot design}

The robot structure is similar to that of humans, both in size (approximatively that of a ten-year-old boy), number of DOFs and range of movements; the total weight (about 8 kg: 2 kg the head, 4 kg the torso and 2 kg the arm and the hand together) has been kept low by the use of light material such as aluminum and ergal.\\The head is equipped with two eyes, which can pan and tilt independently (4 DOFs), and is mounted on the 3-DOFs neck, which allows the movement of the head as needed in the 3D rotational space.\\The arm has 7 DOFs: three of them are located in the shoulder, one in the elbow and three in the wrist. The hand has five fingers, with overall 17 joints coupled among them and actuated by just 8 motors.


\subsection{Actuation system}

The 22 DOFs are actuated by a total of 23 motors, whose torque is transmitted to the joints by plastic toothed belts and stainless-steel tendons, provided with springs at critical locations.\\This solution is appealing for at least two reasons. First, it allows the housing of the motors far from the joints, thus distributing the weights in accordance with the designer wish. Second, the intrinsic elasticity of belts, tendons and springs gives a noteworthy compliance to the whole structure allowing the robot to move safely in a dynamic and unknown environment.

\subsection{Sensory system}

The robot is equipped with visual, proprioceptive, kinesthetic and tactile inputs. Vision is provided by two digital CCD cameras (PointGrey Dragonfly remote head), located in the eyeballs. The proprioceptive and kinesthetic senses are achieved through position sensors (magnetic incremental encoders connected to all motors); furthermore, a 3-axis orientation tracker (Intersense iCube2) has been mounted on top of the head, to emulate the vestibular system. Tactile information is extracted from several magnetic silicone-made pressure sensors which have been specifically designed and developed for James, placed in the fingers.

\section{Neck structure} \label{Sec:NeckStructure}

The neck bone is constituted by a steel spring, which holds the head giving it the possibility of bending forward (pitch) and laterally (roll). The actuation of these two degrees of freedom is obtained with a peculiar structure, recalling the design of a tendon-driven parallel manipulator; recent studies on this kind of actuation systems can be found in \cite{Verhoeven00parallel,Hay05parallel}. Specifically, the neck is surrounded by three steel tendons, separated 120 $\deg$ apart. The tendons length determines the position of the spring and therefore, the pitch and roll position of the neck. The length of the tendons is adjusted by means of three motors, positioned at the base of the neck (see Figure \ref{Fig:HeadAct}).\\This special geometry allows the neck to show ranges of motion comparable to the human ones; as claimed by Clarkson \cite{Clarkson00skeleton}, average ranges of motion for pitch and roll rotations in adults are around $\pm$45 $\deg$, while James motion has been bounded by software in the range of $\pm$40 $\deg$ (safe limit, lower than hardware limit).

\begin{figure}[tbp]
\centering
\includegraphics[width=35mm, height=46mm]{image/LongusColliC.jpg} 
\includegraphics[width=35mm, height=46mm]{image/LongissimusCapitisC2.jpg} 
\includegraphics[width=35mm, height=42mm]{image/frontHeadBB.jpg} 
\includegraphics[width=35mm, height=42mm]{image/backHeadBB.jpg} 
\caption{Top. Human neck muscles we took inspiration from in the system design, highlighted in blue: \emph{Longus Colli} in the left image, and \emph{Longissimus Capitis} in the right image (images taken from \emph{Primal 3D Anatomy} software \cite{Kendall05muscles}). Bottom. James neck tendons are arranged like the human muscles highlighted in the top images.}
\label{Fig:NeckMuscles}
\end{figure}

Furthermore, this peculiar structure, even if far from being a close reproduction of the human musculoskeletal system, presents some analogies with the arrangement of some human neck muscles (see Figure \ref{Fig:NeckMuscles}). Humans are provided with more than 20 types of muscles in the neck, with several units for each type, settled into different layers: their work is both to control the orientation of the head respect to the neck base and to give stability to the cervical spine in supporting the weight of the head \cite{Kendall05muscles}. In our system, the spring tone is sufficient to support the head, and the tendons are employed just to move the head along its roll and pitch axes.\\If we consider the deeper muscular layer around the neck, we can find a couple of long anterior muscles (\emph{Longus Colli}, see top left image in Figure \ref{Fig:NeckMuscles}) that are responsible for head flexion, and a couple of long posterior muscles (\emph{Longissimus Capitis}, see top right image in Figure \ref{Fig:NeckMuscles}) that are responsible for head extension. Both muscles are also involved in the lateral flexion of the neck, even if this movement is mostly actuated by other muscles (\emph{Scalene Muscles}). These muscles completely surrounds the cervical spine, having their origins, roughly speaking, at the level of the scapula, and their insertions at the level of the atlas; the anterior tendon in our system (bottom left image in Figure \ref{Fig:NeckMuscles}) can work as the \emph{Longus Colli}, while the two tendons in the back (bottom right image in Figure \ref{Fig:NeckMuscles}) can emulate the \emph{Longissimus Capitis}.\\On top of the spring, a fourth independent motor is mounted, directly actuating a third degree of freedom, the head yaw (i.e. rotation around an axis parallel to the pan axes of the two eyes). In the current paper we are mainly interested in the control of the head pitch and roll by coordinating the movements of surrounding tendons.

\begin{figure}[tbp]
\centering
\includegraphics[width=43mm]{image/HeadAct.pdf} 
\includegraphics[width=33mm, angle=90]{image/NeckModelScheme.pdf} 
\caption{Neck actuation system and sketch of the neck kinematics. Each motor pulls a tendon which passes trough a hole in the neck base. In this way the effective tendon length can be reduced to bend the spring in different directions.}
\label{Fig:HeadAct}
\end{figure}

\begin{figure}[tbp]
\centering
\includegraphics[width=20mm]{image/HeadRight.jpg} \hspace{1pt}
\includegraphics[width=20mm]{image/HeadLeft.jpg} \hspace{1pt}
\includegraphics[width=21mm]{image/HeadAhead.jpg} \hspace{1pt}
\includegraphics[width=20mm]{image/HeadBack.jpg} \hspace{1pt}\\

\caption{James head. Different configurations seen from different views.}
\label{Fig:HeadPos}
\end{figure}


\subsection{Redundancy of the actuation scheme}

Generally speaking, it is well known that a tendon-driven system with open-ended tendons (i.e. they can exert tension but not compression) requires more tendons than DOFs to be fully controllable. Therefore, to independently control $n$ DOFs, $n+1$ tendons (and motors pulling the tendons) are needed \cite{Tsai}. 
%Anyway, in our system, the loaded spring surrounded by the tendons (i.e. the neck) cannot be considered as an additional force generator, as in \cite{Rovetta77}, and therefore the overall actuation structure becomes somehow redundant. 
%Considering our system, if both the spring and the actuators were completely rigid, we couldn't apply an arbitrary set of torques, since the three values are subjected to one constraint, that actually reduces the $3D$ space of motor torques to a $2D$ manifold (practically speaking, we couldn't shorten an actuator on one side without lengthening at least one actuator on the opposite side). Conversely, in our situation, due to the mechanical properties of the spring and the tendons, we can actually apply any set of torques to the motors. This makes the system somehow redundant.
Anyway, the peculiar parallel architecture of our system, makes it somehow redundant.
In a mathematical sense, redundancy corresponds to the fact that the same configuration of the system can be achieved by different positions of the actuators. Classical techniques can be used to exploit the advantages of redundant systems \cite{SamsonEspiau}. However, in our case there are additional constraints that will guide the controller design in handling redundancy. 

To understand the structure of the problem, let us reduce the structure to a two dimensional space. In this situation, we have two independent motors to actuate a single degree of freedom, nominally the slope of the surface on which the head is mounted.
Consider first the system whose actuation scheme is given in Figure \ref{Fig:HeadAct2D}. With both motors we could actually control two DOFs: the slope of the neck top (with respect to the neck base) and the spring compression. Therefore, considering the top surface slope as our control task, this system becomes redundant. Roughly speaking, shortening both cables of the same length does not produce any slope movement but only a variation of the spring compression. Classically, this is what we define redundancy in the actuation\footnote{Note that, due to the presence of the spring, the neck top slope could be controlled with just one motor, even if with a limited workspace.}.
As previously said, in our case there are additional constraints that rule out this redundancy. In fact, the spring at the base of the neck is entirely compressed by the weight of the carried electronics and mechanics\footnote{The description of the system in Figure \ref{Fig:HeadAct2D} is merely for understanding the issue of redundancy. Practically speaking it would be very difficult to model the forward kinematics of this system. The actual system, i.e. the one schematically represented in Figure \ref{Fig:HeadAct2DSpring}, will be much easier to model kinematically. This is the reason why we did not choose a stiffer spring capable of sustaining the head weight.} (motors, cameras, chassis, etc. etc.), as indicated in Figure \ref{Fig:HeadAct2DSpring}. As a consequence of this fact, shortening/lengthening both cables simultaneously no longer produces a variation of the spring compression but only varies the cables tensions. Remarkably, these tensions should be kept under control: high tensions damage (misalign) the spring spirals and low tensions cause wrong alignment of the cables on the capstans. Ideally, the tension of the cables can be controlled if we could use some sort of tension sensors. In our system these sensors are not currently available. Therefore, in the present paper we show how to keep the cable tensions under control by means of a kinematic model of the system.

\begin{figure}[tbp]
\centering
\includegraphics[width=45mm, angle=90]{image/Neck2DSpring.pdf} 
\caption{Two dimensional scheme of an actuation system similar to james's neck.}
\label{Fig:HeadAct2D}
\end{figure}

\begin{figure}[tbp]
\centering
\includegraphics[width=30mm, angle=90]{image/Neck2DSpringCompressed.pdf} 
\includegraphics[width=30mm, angle=90]{image/Neck2DSpringCompressedBent.pdf} 
\caption{Equivalent two dimensional scheme of james's neck.}
\label{Fig:HeadAct2DSpring}
\end{figure}


\section{Control of the neck} \label{Sec:NeckControl}

The peculiar structure of the neck has required the design of an original control technique. The final design makes use of the 3-axis orientation tracker positioned on top of the robot neck. Though the given sensor is capable of measuring its absolute rotation along three orthogonal axes, in the given application we used only part of the available information. In particular, we used the measurements corresponding to the head pitch and roll rotations, denoted $\theta_p$ and $\theta_r$ respectively; these rotations corresponds to the degrees of freedom actuated by the three motors at the base of the neck. The third sensor measurement, the yaw rotation $\theta_y$ (a rotation around an axis orthogonal to the ``neck top'' as indicated in Figure \ref{Fig:HeadAct}), will not be used for two reasons: first, it is not influenced by the first three motor positions; second, it can be better measured using the encoder mounted directly on the shaft of the fourth motor.

\subsection{Neck control in details} \label{Sec:NeckControlInDetails}

As already pointed out, the neck structure is characterized by three degrees of freedom: pitch $\theta_p$, roll $\theta_r$ and yaw $\theta_y$. The yaw movement, is directly actuated by a single dc motor; its control is based on a standard PID controller. The control strategy for the remaining two movements will be instead described in details in this section.

The design of the pitch and roll control loops has required the development of a neck structure model \footnote{The model is based on the assumption that the spring has a constant length. Practically, when the spring bends on a side, it maintains its length on that side (remember that the spring is compressed by the head weight) while stretching on the opposite side. When the spring is bent, the assumption is that its curvature is constant along the entire spring length.}.
As already pointed out the system is somehow redundant (3 actuators versus 2 degrees of freedom) but the redundancy needs to be ruled out in order to keep the tendons tension within certain limits and the spring spirals aligned. Practically, because of redundancy, the same neck orientation $\x = [\theta_p$, $\theta_r] \in \mathbb R^2$ (i.e. the orientation tracker measurements) can be achieved with different tendons (cables) configurations $\q = [d_1$, $d_2$, $d_3] \in \mathbb R^3$ (i.e. the position of the motors). Mathematically speaking, the neck forward kinematic are described by a function:
\begin{eqnarray} \label{Eq:Fwd_model_neck}
\x = f (\q) \qquad f:\mathbb{R}^3 \rightarrow \mathbb{R}^2.
\end{eqnarray}
The function $f$ cannot be directly inverted because the same $\x$ can be achieved by different configurations $\q$. Among all these configurations, there is an ideal one $\q^*$ which corresponds to straight tendons and constant curvature of the spring. This configuration can be easily computed (see \ref{Sec:PartialInverseKinematicModel} for details) thus leading to the following:
\begin{eqnarray} \label{Eq:Model_neck}
\q^* = f_{inv} (\x).
\end{eqnarray}
The other tendons configuration corresponding to the same $\x$ are less desirable because of the reasons explained before. The reader should notice that (\ref{Eq:Model_neck}) is a sort of inverse kinematic model\footnote{In absence of modeling errors we have $f(f_{inv}(\x)) = \x$, $\forall \x \in \mathbb R^2$. Notice that the forward counterpart (\ref{Eq:Fwd_model_neck}) is  complicated to be analytically computed and its computation falls outside the scope of this paper.} expressing the configuration of the motors to achieve a desired neck orientation. Geometrically speaking, (\ref{Eq:Model_neck}) defines a two dimensional manifold $\mathcal M$ embedded in the three dimensional space of the cables configurations.
Clearly, keeping the cable configuration $\q$ as close as possible to $\mathcal M$ is desirable because it corresponds to almost straight tendons (thus guaranteeing a minimum tendon tension) and almost constant curvature of the spring (thus guaranteeing aligned spring spirals). Therefore redundancy is ruled out by the additional requirement of remaining as close as possible to $\mathcal M$.

In the remaining of the current section we first give details about the kinematic model that leads to (\ref{Eq:Model_neck}), then we describe how to control the three motors in order to position the neck on a desired configuration $\x_d = [\theta_p^d$, $\theta_r^d]$ while keeping the position of the motors as close as possible to the manifold described by the kinematic model.

\subsection{Partial inverse kinematic model} \label{Sec:PartialInverseKinematicModel}

The three main assumptions are the following: the spring length is constant (remember that the spring is completely compressed by the head weight), it has a constant curvature and it always lays on a plane. Only the two extremities of the spring are attached to the robot, one to the fixed base of the neck (reference frame $\Sigma_b$) and the other to a movable plane on which the orientation tracker (reference frame $\Sigma_s$) is mounted (see also Figure \ref{Fig:HeadAct}). Practically the sensor measures the orientation of the this plane with respect to the gravitational force vector. In the remaining of this section, we express the sensor measurement in terms of the $\mathbf z$-axis of the reference frame $\Sigma_s$. Given the configuration of the system, this axis, denoted $\mathbf z_s$, is always parallel to gravity and can be easily expressed in terms of $\theta_p$ and $\theta_r$:
$$ \mathbf z_s = \begin{bmatrix}  -\sin(\theta_r) & \sin(\theta_p)\cos(\theta_r) & -\cos(\theta_p)\cos(\theta_r)\end{bmatrix}^\top.$$
In order to compute the function $f_{inv}$ which expresses the ideal tendons length $\q$ given the sensor measurement $\x$, we proceed by computing the position of $\Sigma_s$ as a function of $\x$. Remarkably, notice that the orientation of $\Sigma_s$ is already known given that $\mathbf z_s$ is known and the system does not rotate with respect $\mathbf z_s$. Therefore we are left with determining the translation of $\Sigma_s$, or equivalently the position of its origin $O_s$ with respect to $\Sigma_b$. The first problem to solve consists in finding the plane $\mathcal P$ on which the spring lays. Given  the assumptions, $\mathcal P$ is orthogonal to $\mathbf z_b$ and $\mathbf z_s$ and passes trough the origin $O_b$ of $\Sigma_b$. These considerations easily follow from the fact that the spring extremities are always orthogonal to the planes on which they are attached. Therefore, $\mathcal P$ is uniquely determined by its normal $\mathbf z_n = \mathbf z_s \times \mathbf z_b$ and one of its points $O_b$. Once $\mathcal P$ has been uniquely determined we only need to determine the position of $O_s$ within this plane. This is a two dimensional problem and can be easily illustrated (Figure \ref{Fig:HeadActCalc}). We now restrict to the 2D case since the extension to 3D is just a matter of a rotation. Practically speaking, the spring describes an arc of a circle (see Figure \ref{Fig:HeadActCalc}) whose length is $L$ (the length of the compressed spring) and whose angular amplitude is $\theta = \mbox{arcos}(\mathbf z_b \cdot \mathbf z_b) $. The radius of this circle is therefore:
$$ R = \frac{L}{\theta}.$$
Considering a two dimensional reference frame $(\mathbf y_{\mathcal P}, \mathbf z_{\mathcal P})$ with origin in $O_b$, the relative position between $O_b$ and $O_s$ is described by the vector $[(R+R_s) (1 - \cos(\theta), (R+R_s) \sin(\theta)]$ being $R_s$ the spring radius. This vector can be used to describe the position of $O_s$ with respect to $\Sigma_b$ and therefore the relative position between $\Sigma_b$ and $\Sigma_s$. Once this position is known we can compute the cables length $\q$ given the system kinematic parameters; in particular we have $\q = \begin{bmatrix} |E_1-P_1|, & |E_2-P_2|, & |E_3-P_3| \end{bmatrix} $ (see Figure \ref{Fig:HeadActCalc}) where $E_i$ are all fixed in $\Sigma_s$ and $P_i$ are all fixed in $\Sigma_b$.


\begin{figure}[tbp]
\centering
\includegraphics[ width=30mm, height=30mm, clip=true, viewport=0mm 0mm 80mm 80mm]{image/NeckModel.pdf} 
\includegraphics[width=20mm, angle=90]{image/NeckModelCalc.pdf} 
\caption{Scheme for computing the inverse kinematic function $f_{inv}$. On the bottom picture, everything has been reduced to plane $\mathcal P$ to which both $\mathbf z_s$ and $\mathbf z_b$ belong.}
\label{Fig:HeadActCalc}
\end{figure}

\subsection{Control solutions} \label{Sec:ControlSolutions}

\subsubsection{Purely model based solution} \label{Sec:ModelBasedSolution}

If the model were perfectly corresponding to the real system, the problem of orienting the neck in a desired configuration $\x_d$ would be easily solved by computing the desired tendons length $\q_d = f_{inv} (\x_d)$ and controlling the positions of the three motors\footnote{The three motors are equipped with encoders so that the motor position control has been easily achieved with a simple PID controller based on feedback from encoders.} so as to regulate the tendons to the desired configuration. Practically speaking, every model has its own errors and therefore the proposed scheme will never orient precisely the neck. In order to check the quality of the model we evaluated the error in positioning the neck in the configuration $\x_d$. Specifically, we computed $\mathbf e = \x - \x_d$ where $\x$ is the sensor measurement after having positioned the motors in the configuration $\q^*_d = f_{inv}(\x_d)$ with the following control law:
\begin{equation} \label{Eq:PurelyModelBasedControl}
\dot{\q} = - K_p (\q - \q^*_d),
\end{equation}
where $K_p \in \mathbb R^{3 \times 3}$ is an arbitrarily chosen gain matrix. It is well known that using \eqref{Eq:PurelyModelBasedControl} is such that $\q$ converges to $\q^*_d \in \mathcal M$. Theoretically\footnote{According to what we have seen in the previous section the $f_{inv}$ have the following property $\x = f(f_{inv} (\x_d)) = \x_d$.}, in absence of modeling errors we should have $\mathbf e = 0$; practically, we obtained the errors in Figure \ref{Fig:ErrorModel}. Remarkably, the final configuration satisfies the requirements that we imposed on $\mathcal M$: constant spring curvature and straight tendons. 

\begin{figure}[tbp]
\centering 
\includegraphics[width=60mm]{image/AngleModel.pdf} 
\includegraphics[width=60mm]{image/ErrorsModel.pdf} 
\caption{Evaluation of the model. The bottom pictures show the errors $\mathbf e = \x_d - \x  = [\theta_p^d - \theta_p, \theta_r^d - \theta_r]$ in performing a sequence of movements $\x_d = [30, 0] \rightarrow[20, 30] \rightarrow[0, 30] \rightarrow[-30, 0] \rightarrow[-30, -30] \rightarrow[0, -30]$. The sequence is repeated four times as shown in the top picture. The observed root mean squared error (RMSE) is $0.43 \deg$ for the pitch and $0.72 \deg$ for the roll.}
\label{Fig:ErrorModel}
\end{figure}

\subsubsection{Jacobian based solution} \label{Sec:JacobianSolution}

In order to improve the positioning errors shown in Figure \ref{Fig:ErrorModel} we need to use the sensor measurement $\x$ as a feedback signal to reach the desired pose $\x_d$. A typical control structure for guaranteeing $\x \rightarrow \x_d$ is the following (see \cite{SamsonEspiau} for details):
\begin{equation} \label{Eq:JacobianControl}
\dot{\q} = - J_R(\q) (\x - \x_d),
\end{equation}
where $J(\q) \in \mathbb R^{2 \times 3}$ is the jacobian of (\ref{Eq:Fwd_model_neck}), and $A_R \in \mathbb R^{n \times m}$ denotes a right inverse of a matrix $A \in \mathbb R^{m \times n}$, i.e. $A A_R = I$. In our case, we do not have direct access to $J$ since we do not have an analytical expression for the function $f$ in (\ref{Eq:Fwd_model_neck}). All we have is $f_{inv}$ whose jacobian $J_{inv}$ is somehow related to $J$. Specifically, it can be shown that:
\begin{equation} \label{Eq:JacobianInv}
J(f_{inv}(\x)) J_{inv} (\x) = I \qquad \forall \x \in \mathbb R^2,
\end{equation}
which implies that $J_{inv}$ is a right inverse for  $J$ in every $\q$ belonging to the manifold $\mathcal M$ described by (\ref{Eq:Model_neck}). Therefore, if we remain on that manifold, we can use $J_{inv}$ in place of $J_R$ in Eq. (\ref{Eq:JacobianControl}). The final control law will be the following:
\begin{equation} \label{Eq:JacobianControlFinal}
\dot{\q} = - J_{inv}(\x) (\x - \x_d).
\end{equation}
Remarkably, the time derivative $\dot{\q}$ belongs to the tangent plane of $\mathcal M$ in $\mathbf q$. As a consequence of this fact, if the $\q(0) \in \mathcal M$ then $\q(t) \in \mathcal M$, $\forall t > 0$. Therefore, (\ref{Eq:JacobianControlFinal}) is exactly equivalent to (\ref{Eq:JacobianControl}) and convergence of $\x$ to $\x_d$ is guaranteed. However, from a practical point of view, the implementation of (\ref{Eq:JacobianControlFinal}) is obtained with a digital controller so that the commanded velocity $\dot{\q}$ is not continuously modified but only updated every $T_s = 0.01$ seconds, the controller rate. Therefore, we are not guaranteed that the system configuration remains on $\mathcal{M}$. Figure \ref{Fig:ErrorJacobian} shows the performance of the discrete time controller. Positioning errors are greatly improved with respect to the previously proposed controller (\ref{Eq:PurelyModelBasedControl}); the pitch RMSE has been reduced from $0.43 \deg$ to $0.09 \deg$ while the roll RMSE from $0.72 \deg$ to $0.05 \deg$. However, as a consequence of the discretization of the controller, the system is not guaranteed to remain on $\mathcal M$ as shown in Figure \ref{Fig:ManifoldDistanceJacobian}. 

\begin{figure}[tbp]
\centering 
\includegraphics[width=50mm]{image/AngleJacobian.pdf} 
\includegraphics[width=50mm]{image/ErrorsJacobian.pdf} 
\caption{Evaluation of the closed loop controller. The bottom pictures show the errors $\mathbf e = \x_d - \x  = [\theta_p^d - \theta_p, \theta_r^d - \theta_r]$ in performing a sequence of movements $\x_d = [30, 0] \rightarrow[20, 30] \rightarrow[0, 30] \rightarrow[-30, 0] \rightarrow[-30, -30] \rightarrow[0, -30]$. The actual movement is shown in the top pictures. The observed root mean squared error (RMSE) is $0.09 \deg$ for the pitch and $0.05 \deg$ for the roll.}
\label{Fig:ErrorJacobian}
\end{figure}

\begin{figure}[tbp]
\centering 
\includegraphics[width=50mm]{image/ManifoldDistanceQJacobian.pdf} 
\includegraphics[width=50mm]{image/ManifoldDistanceJacobian.pdf} 
\caption{Distance of $\q$ from the manifold $\mathcal M$. The top picture shows the three components of the vector $f_{inv}(\x) -\q  = \q^* -\q$ during the movement described in Figure \ref{Fig:ErrorJacobian}. The bottom picture shows instead the time behaviour of its norm , i.e. $\| \q^* - \q \|$. As expected the system configuration progressively abandons the manifold.}
\label{Fig:ManifoldDistanceJacobian}
\end{figure}

\subsubsection{Weighted solution} \label{Sec:WeightedSolution}

Keeping the system configuration on the manifold $\mathcal M$ is important for the reasons illustrated in Section \ref{Sec:NeckControlInDetails}.
Practically, running \eqref{Eq:JacobianControlFinal} for a long time results in misalignment of the spring spirals (high tension on one of the cables) and/or wrong alignment of the cables on the motor capstans (low tension). Therefore the solution proposed in the previous section is not desirable. According to Figure 
\ref{Fig:ManifoldDistanceJacobian} the longer we control the system the bigger becomes the distance from manifold. The first solution to this problem is a mixture of the two proposed controllers (\ref{Eq:PurelyModelBasedControl}) and (\ref{Eq:JacobianControlFinal}):
\begin{equation} \label{Eq:WeightedControl}
\dot{\q} = -\mu K_p(\q - f_{inv}(\x_d)) - (1-\mu) J_{inv}(\x) (\x - \x_d),
\end{equation}
where $\mu \in [0, 1]$ is an arbitrary weighting scalar factor and the other quantities have been defined in the previous sections. Choosing the value of the variable $\mu$ is not an easy task since it is meant to privilege either the distance to the manifold ($\mu \simeq 1$) or the achievement of a precise positioning ($\mu \simeq 0$). Choosing $\mu \simeq 0.5$ leads to the results in Figure \ref{Fig:ManifoldDistanceJacobianAndCompromise}. Remarkably the distance from the manifold is reduced (the observed RMSE is $0.1cm$) at the cost of an increased error in the positioning: the pitch-RMSE drops down from $0.09 \deg$ to $1.32 \deg$, while the roll-RMSE from $0.05 \deg$ to $1.17 \deg$.

\begin{figure}[tbp]
\centering 
\includegraphics[width=50mm]{image/ErrorsJacobianAndComprormise.pdf} 
\includegraphics[width=50mm]{image/ManifoldDistanceJacobianAndComprormise.pdf} 
\caption{Top: positioning errors $\x_d - \x$ for the two components of $\x = [\theta_p, \theta_r]$; bottom: distance of $\q$ from the manifold $\mathcal M$. The usual sequence of movements has been repeated twice with the controller (\ref{Eq:JacobianControl}) and twice with \eqref{Eq:WeightedControl}. The switching between the two controllers happens after about 60 seconds causing a rapid fall of the distance from the manifold.} 
\label{Fig:ManifoldDistanceJacobianAndCompromise}
\end{figure}

\subsubsection{Minimization solution} \label{Sec:MinimizationSolution}

The control law (\ref{Eq:WeightedControl}) is always a compromise between accuracy in positioning and accuracy in remaining close to the manifold $\mathcal M$. Practically, we cannot achieve both tasks simultaneously because the definition of $\mathcal M$ is based on a model of the system which is usually affected by modeling errors. The best way to satisfy both tasks simultaneously consists in requiring accurate positioning ($\x=\x_d$) while requiring the system configuration $\q$ to be as close as possible to the manifold configuration $\q^* = f_{inv}(\x)$. Practically, to reach the orientation $\x_d$ we should move the system to the configuration:
\begin{equation} \label{Eq:MinimizationControlTheory}
\q_d = \min_{\q} \frac{1}{2}\| \q - f_{inv}(\x_d)\|^2, \qquad f(\q) = \x_d.
\end{equation}
The so called resolved motion rate control technique (see \cite{SamsonEspiau} for details and proof of convergence) can be used to solve the above problem:
\begin{equation} \label{Eq:MinimizationControl}
\dot{\q} = -J_R(\q) (\x-\x_d) - \left(I-J_R(\q) J_R^\dagger(\q)\right) \left(\q - f_{inv}(\x_d)\right),
\end{equation}
where $J_R$ is a right inverse of the Jacobian $J = \frac{\partial f}{\partial \q}$ and $J_R^\dagger$ is its Moore-Penrose pseudo-inverse. This control strategy can be proved to guarantee that $\q$ converges to the solution $\q_d$ of (\ref{Eq:MinimizationControlTheory}). Once more, an implementation of \eqref{Eq:MinimizationControl} on our system is complicated by the fact that we have access neither to the function $f$ nor to its Jacobian $J$. Using the same idea proposed before we have that as long as we stay on the manifold the following relationship holds: $J_R = J_{inv}$. Therefore, we can implement \eqref{Eq:MinimizationControl} as follows:
\begin{equation} \label{Eq:MinimizationControl2}
\dot{\q} = -J_{inv}(\x) (\x-\x_d) - \left(I-J_{inv}(\x) J_{inv}^\dagger(\x)\right) \left(\q - f_{inv}(\x_d)\right).
\end{equation}
Clearly, \eqref{Eq:MinimizationControl2} is similar to \eqref{Eq:WeightedControl} but in this case the manifold distance is controlled by performing movements in the null space of the primary task, the neck orientation. Theoretically, \eqref{Eq:MinimizationControl} will be equal to \eqref{Eq:MinimizationControl2} only if we guarantee to remain on the manifold. Practically, all we are interested in is the convergence of the control to the desired final configuration; fairly weak conditions to guarantee the convergence can be found in \cite{SamsonEspiau}. These conditions\footnote{In practice convergence is guaranteed if $J J_{inv} >0$ which is obviously true on the manifold $\mathcal M$ where $J_{inv} = J_R$ so that we have $J J_{inv} = I$.} can be used to prove convergence of the proposed control scheme under the assumption that the system configuration remains close enough to $\mathcal M$. Further and more formal investigations on this sketch of convergence proof will be given on a forthcoming paper. The results concerning this control strategy compared with the previously proposed controller \eqref{Eq:JacobianControl} are shown in Figure \ref{Fig:ManifoldDistanceJacobianAndMinimization}. Remarkably the distance from the manifold is reduced (the observed RMSE is $0.3cm$) while maintaining a good positioning accuracy: the pitch-RMSE is $0.03 \deg$, while the roll-RMSE is $0.03 \deg$.

\begin{figure}[tbp]
\centering 
\includegraphics[width=50mm]{image/JacobianVSMinimizationErrors.pdf} 
\includegraphics[width=50mm]{image/JacobianVSMinimizationDistance.pdf} 
\caption{Top: positioning errors $\x_d - \x$ for the two components of $\x = [\theta_p, \theta_r]$; bottom: distance of $\q$ from the manifold $\mathcal M$. The usual sequence of movements has been repeated twice with the controller (\ref{Eq:JacobianControl}) and twice with \eqref{Eq:MinimizationControl2}. The switching between the two controllers happens after about 60 seconds causing a rapid fall of the distance from the manifold.} 
\label{Fig:ManifoldDistanceJacobianAndMinimization}
\end{figure}


\section{Future work} \label{Sec:FutureWork}

Preliminary works have been carried out concerning the development of a non-model-based controller for James neck, inspired by the recent attempts to use machine learning techniques to control robotic devices without having any model of the system in consideration (\emph{Black Box} systems). Some examples can be found in \cite{Zhang03ann,Iida04rl,Conradt00lwpr,Mahadevan96learn}.\\The planned solution makes use of a Receptive Fields Neural Network (RFNN) to estimate the joint-space velocities needed to move the head with the desired task-space velocities, given the actual joint configuration. The learning algorithm is an implementation, with some modifications, of the Receptive Fields Weighted Regression proposed by Schaal and Atkenson \cite{Schaal98rfwr}.\\After a training phase, in which the workspace is randomly explored by the robot and the network learns on-line from the gathered sensory data, the trained network is able to map the two spaces (i.e. it has learnt an inverse of the Jacobian matrix).\\Unfortunately, as previously stated, due to the redundant actuation system we deal with, our Jacobian matrix is not square, and so not invertible. This means that for a given set of actual joints positions and required task-space velocities there is not a unique solution in terms of joint-space velocities; nevertheless, within this family of solutions, just a very limited set is usable in practice, because a minimum amount of tension is needed along the tendons to avoid their possible outgo from the capstans.\\To overcome this problem, a solution similar to the one presented in \ref{Sec:WeightedSolution} as been adopted. The velocities applied to the motors during the training phase, $\dot{\q} \in\mathbb R^3$, result from the weighted summation of two terms, as in \ref{Eq:WeightedControl}, being the second one a conveniently bounded random value, $\dot{\q}_{rnd} \in\mathbb R^3$, instead of $J_{inv}(\x) (\x - \x_d)$ :
\begin{equation} \label{Eq:RandomVelocities}
\dot{\q} = -\mu K_p(\q - f_{inv}(\x)) - (1-\mu) \dot{\q}_{rnd}.
\end{equation}
The data provided to the learning algorithm are the $3D$ vector of the applied joint-space velocities, $\dot{\q}\in\mathbb R^3$, as output, and the $5D$ vector composed by the resulting task-space velocities, $\dot{\x}\in\mathbb R^2$, and the actual motor configuration, $\q\in\mathbb R^3$, as input. Once the RFNN has learnt enough, we can use it to control the neck, giving the desired task-space velocities and the actual motor configuration as input, $[\dot{\x_d}$,$\q]$, and obtaining the appropriate joint-velocities as output, $\dot{\q_d}$. \\In this way the redundancy is solved choosing the solution that keeps the tendons closer to their optimal lenght, exploiting the kinematic model in \ref{Eq:Model_neck}. Again the weight $\mu$ has to be tuned in order to balance the randomness of the exploration and the respect of the kinematic model (necessary to keep the tendons into the capstans grooves).\\A first stage of development for the discussed controller has been already reached, and an initial version has been tested on James. Results show that the system is able to learn a good approximation of the inverse Jacobian after a training stage of about a hour, with pitch and roll RMSE lower than in the \ref{Sec:WeightedSolution} solution, under $1 \deg$ (see Figure \ref{Fig:RFNN}).

\begin{figure}[tbp]
\centering 
\includegraphics[ width=55mm,  clip=true, viewport=0mm 40mm 250mm 240mm]{image/RFNN.pdf} 
%\includegraphics[width=50mm]{image/JacobianVSMinimizationDistance.pdf} 
\caption{Positioning errors $\x_d - \x$ for the two components of $\x = [\theta_p, \theta_r]$. The usual sequence of movements has been repeated four times with the RFNN controller. The measured RMSE is $0.92 \deg$ for the pitch and $0.88 \deg$ for the roll.} 
\label{Fig:RFNN}
\end{figure}


\section{Conclusions} \label{Sec:Conclusions}
We proposed an innovative neck mechanical structure which is highly biologically inspired. The main idea is to have a flexible structure (neck bone) actuated by surrounding contractile elements (muscles). In the specific implementation the flexible structure is represented by a steel spring. Its actuation is achieved with standard dc motors which are used to pull three tendons surrounding the neck. The final structure is capable of bending the neck roughly around a sphere. This new mechanical design has required the development of an appropriate control structure which uses an orientation tracker, a model of the system kinematics and a Jacobian based feedback loop. The peculiarity of the system made it difficult to model directly its forward kinematics; practically, it was easier to model a specific solution of the inverse kinematics. On the basis of this solution, a suitable control strategy was proposed and implemented on the real robot. A formal mathematical proof of the convergence of the proposed control scheme was not given even if simple considerations seem to pave the way to a complete formal proof. In any case the controller has been practically shown to work in line with the required performance (positioning errors $<0.05 \deg$). Finally, hints about a non-model-based control scheme have been given.
% conference papers do not normally have an appendix

% use section* for acknowledgement
%\section*{Acknowledgment}
%% optional entry into table of contents (if used)
%%\addcontentsline{toc}{section}{Acknowledgment}
%The authors would like to thank...

% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section
% NOTE: BibTeX documentation can be easily obtained at:
% http://www.ctan.org/tex-archive/biblio/bibtex/contrib/doc/
\bibliographystyle{IEEEtran}
\bibliography{IEEEabrv,MyBiblio}
% can use a bibliography generated by BibTeX as a .bbl file
% standard IEEE bibliography style from:
% http://www.ctan.org/tex-archive/macros/latex/contrib/supported/IEEEtran/bibtex
%\bibliographystyle{IEEEtran.bst}
% argument is your BibTeX string definitions and bibliography database(s)
%\bibliography{IEEEabrv,../bib/paper}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
%\begin{thebibliography}{1}
%
%\bibitem{IEEEhowto:kopka}
%H.~Kopka and P.~W. Daly, \emph{A Guide to {\LaTeX}}, 3rd~ed.\hskip 1em plus
%  0.5em minus 0.4em\relax Harlow, England: Addison-Wesley, 1999.
%
%\end{thebibliography}


% that's all folks
\end{document}


